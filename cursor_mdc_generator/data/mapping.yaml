# cursor_mdc_generator/data/mapping.yaml
# Default mapping configuration for thematic rule generation
# Detection keys map to one or more rule specifications

detections:
  vue:
    - category: "01-frontend"
      slug: "vue-component-architecture"
      description: "Standards for Vue component architecture (file layout, props, emits, slots, refs, `<script setup>`)"
      tags: ["vue", "components", "architecture"]
      globs: ["**/*.vue"]
      activation: "auto"
    - category: "05-state"
      slug: "pinia-state-management"
      description: "Pinia state management: store organization, typing, persistence"
      tags: ["vue", "pinia", "state"]
      globs: ["**/*.{ts,js}"]
      activation: "auto"
    - category: "08-build-dev"
      slug: "vite-config-standards"
      description: "Vite conventions: aliases, env handling, code splitting"
      tags: ["vite", "build", "devex"]
      globs: ["vite.config.*", "**/*.ts"]
      activation: "auto"

  fastapi:
    - category: "02-backend"
      slug: "fastapi-routing-structure"
      description: "Router split, dependency injection, error handling, lifespan"
      tags: ["fastapi", "backend"]
      globs: ["**/*.py"]
      activation: "auto"
    - category: "06-db-api"
      slug: "fastapi-pydantic-validation"
      description: "Request/response validation with Pydantic v2, error and response models"
      tags: ["fastapi", "pydantic", "validation"]
      globs: ["**/*.py"]
      activation: "auto"
    - category: "06-db-api"
      slug: "openapi-spec-versioning"
      description: "OpenAPI (Swagger) versioning, docs, schema generation"
      tags: ["openapi", "swagger", "docs"]
      globs: ["openapi.*", "**/*.py"]
      activation: "agent"

  sqlite:
    - category: "06-db-api"
      slug: "sqlalchemy-sqlite-config"
      description: "SQLAlchemy for SQLite: engine, session, migration path (Alembic)"
      tags: ["sqlalchemy", "sqlite", "alembic"]
      globs: ["**/*.py", "alembic.ini", "**/alembic/*"]
      activation: "auto"

  python:
    - category: "09-language"
      slug: "python-typing-standards"
      description: "Typing standards (PEP 484/561), TypedDict/Protocol, generics"
      tags: ["python", "typing"]
      globs: ["**/*.py"]
      activation: "auto"
    - category: "08-build-dev"
      slug: "precommit-ruff-black"
      description: "Pre-commit hooks, Ruff, Black, isort â€” lint/format pipeline"
      tags: ["pre-commit", "ruff", "black", "isort"]
      globs: [".pre-commit-config.yaml", "**/*.py"]
      activation: "auto"
    - category: "07-testing"
      slug: "pytest-structure-coverage"
      description: "pytest layout, fixtures, integration tests, coverage thresholds"
      tags: ["pytest", "testing"]
      globs: ["tests/**/*.py"]
      activation: "auto"

  typescript:
    - category: "09-language"
      slug: "typescript-strict-mode"
      description: "TypeScript strict mode configuration and best practices"
      tags: ["typescript", "typing"]
      globs: ["**/*.ts", "**/*.tsx"]
      activation: "auto"

  json:
    - category: "06-db-api"
      slug: "json-schema-validation"
      description: "Validation with JSON Schema, marshaling/unmarshaling, error codes"
      tags: ["json", "schema", "validation"]
      globs: ["**/*.json", "**/*.py", "**/*.ts"]
      activation: "agent"

  openapi:
    - category: "06-db-api"
      slug: "openapi-docs-quality"
      description: "API documentation quality: tags, examples, error models"
      tags: ["openapi", "swagger", "docs"]
      globs: ["openapi.*"]
      activation: "agent"

  testing-js:
    - category: "07-testing"
      slug: "vitest-jest-standards"
      description: "Vitest/Jest conventions for unit/component tests (Vue/React)"
      tags: ["vitest", "jest", "testing"]
      globs: ["**/*.test.*", "**/*.spec.*"]
      activation: "auto"

# Category ID ranges for rule allocation
id_ranges:
  "00-foundation": [100, 199]
  "01-frontend": [200, 299]
  "02-backend": [300, 399]
  "03-mobile": [400, 499]
  "04-css": [500, 599]
  "05-state": [600, 699]
  "06-db-api": [700, 799]
  "07-testing": [800, 899]
  "08-build-dev": [900, 999]
  "09-language": [1000, 1099]
  "99-other": [9000, 9999]
